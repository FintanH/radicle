;; length

(def length
  (fn [xs]
    (foldr (fn [x acc] (+ acc 1)) 0 xs)))

(document 'length
  '(("list" list))
  "Returns the length of 'list'.")

(:test "length"
  [ (length nil) ==> 0]
  [ (length (list 2)) ==> 1]
)

(def maybe->>=
  (fn [xs f]
    (if (vector? xs)
      (if (eq? (length xs) 2)
        (if (eq? (nth 0 xs) :Just)
          (f (nth 1 xs))
          :Nothing)
        :Nothing)
      :Nothing)))